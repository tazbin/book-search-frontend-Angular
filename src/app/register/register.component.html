<div class="jumbotron">
  <div class="container">
    <div class="mx-auto mt-5" style="max-width: 400px">
      <div class="container">

        <h1 class="display-6"> Register form </h1>
        <hr>
        <form  #registerForm="ngForm" (ngSubmit)="onSubmit()">

            <div class="form-group mb-3">
                <label>Name </label>
                <input type="text" name="name" #name="ngModel" [(ngModel)]="form.name" class="form-control" [class.is-invalid]="name.touched && name.invalid" required placeholder="Enter your name">
                <small *ngIf="name.touched && name.invalid" class="text-danger">
                  Name is required
                </small>
              </div>

            <div class="form-group mb-3">
              <label>Email address</label>
              <input type="email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"  #email="ngModel" [(ngModel)]="form.email" class="form-control" required [class.is-invalid]="email.touched && email.invalid" placeholder="Enter your email">
              <small *ngIf="email.touched && email.invalid" class="text-danger">
                Email must be a valid email
              </small>
            </div>

            <div class="form-group mb-3">
              <label>Password</label>
              <input type="password" class="form-control" name="password" #password="ngModel" [(ngModel)]="form.password" class="form-control" required [class.is-invalid]="password.touched && password.invalid" placeholder="Enter your password">
              <small *ngIf="password.touched && password.invalid" class="text-danger">
                password is required
              </small>
            </div>
            
            <div class="alert alert-danger" *ngIf="errorMsg" role="alert">
              <strong>ERROR! </strong> {{ errorMsg }}
            </div>

            <div class="d-grid gap-2">
                <button type="submit" [disabled]="registerForm.invalid" class="btn btn-md btn-block btn-dark mb-2">
                    {{
                      loading ? 'Registering...' : 'Register'
                    }}
                </button>
            </div>

            <small>
                Already have any account? <a routerLink="/login">Login here</a>
            </small>

          </form>

      </div>
    </div>
  </div>
</div>